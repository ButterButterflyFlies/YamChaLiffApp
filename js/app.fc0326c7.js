(function(t){function e(e){for(var s,r,c=e[0],o=e[1],l=e[2],f=0,d=[];f<c.length;f++)r=c[f],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,c=1;c<a.length;c++){var o=a[c];0!==n[o]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},n={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/YamChaLiffApp/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0fdd":function(t,e,a){},"109e":function(t,e,a){},"11b8":function(t,e,a){"use strict";var s=a("5f74"),n=a.n(s);n.a},"153f":function(t,e,a){"use strict";var s=a("7db1"),n=a.n(s);n.a},"17ff":function(t,e,a){},"1a49":function(t,e,a){},"1d1a":function(t,e,a){"use strict";var s=a("109e"),n=a.n(s);n.a},"337d":function(t,e,a){"use strict";var s=a("c927"),n=a.n(s);n.a},"3fc1":function(t,e,a){"use strict";var s=a("5aa5"),n=a.n(s);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a(t.component[t.params.path],{tag:"component",attrs:{params:t.params}})],1)},i=[],r=(a("8e6e"),a("456d"),a("bd86")),c=(a("ac6a"),a("28a5"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"self-wrap"},[a("section",{on:{click:function(e){t.showPan=!1}}},[a("menu-search",{staticClass:"self-fixed-center",attrs:{group:t.params.group,userId:t.profile.userId}})],1),a("section",{directives:[{name:"pan",rawName:"v-pan",value:t.onPan,expression:"onPan"}],staticClass:"self-pull-up-menu",class:t.showPanel},[a("menu-recommand",{attrs:{id:"container",menuList:t.menuData,group:t.params.group,userId:t.profile.userId},on:{select:t.openPage}})],1),a("section",{staticClass:"self-choose-branch-page",class:t.showPage},[a("update-order-page",{attrs:{displayName:t.profile.displayName,params:t.params,active:t.pageFlag,product:t.selectedStore,orderData:t.orderData},on:{close:t.closePage}})],1)])}),o=[],l=(a("96cf"),a("3b8d")),u=a("bc3a"),f=a.n(u),d=a("2ef0"),p=a.n(d),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"self-background"},[a("div",{staticClass:"form-group mx-auto",attrs:{id:"search"}},[a("label",{staticClass:"h5 self-search-label",attrs:{for:"shop"}},[t._v("請輸入品項名稱")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],staticClass:"mt-2 self-search-box self-shadow",attrs:{id:"shop",type:"text"},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}})])])},h=[],v={name:"MenuSearch",data:function(){return{currentShop:{},searchString:""}},methods:{setCurrent:function(t){this.currentShop=t}}},g=v,b=(a("e1c0"),a("2877")),C=Object(b["a"])(g,m,h,!1,null,"bf3bd35c",null),_=C.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"h1 text-center mt-4 self-title"},[t._v("熱門品項")]),t.isLoading?a("div",{staticClass:"mt-2 self-menu-section"},t._l(t.menuList,(function(e,s){return a("div",{key:s,staticClass:"col-11 mx-auto row mt-3 mb-3 p-3 self-result",on:{click:function(a){return t.openPage(e)}}},[t._m(0,!0),a("div",{staticClass:"col-3 align-self-center"}),a("div",{staticClass:"col-7 align-self-center"},[a("p",{staticClass:"mb-0"},[t._v(t._s(e.name))])])])})),0):a("div",{staticClass:"mt-2 self-menu-section"},[t._m(1)])])},O=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-2 align-self-center"},[a("div",{staticClass:"self-icon"},[a("i",{staticClass:"fas fa-coffee"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"self-loading"},[a("i",{staticClass:"mt-4 fas fa-spinner fa-spin"})])}],w={name:"MenuRecommand",props:{group:{type:String,default:""},userId:{type:String,default:""},menuList:{type:Array,default:function(){}}},data:function(){return{currentProduct:{}}},computed:{isLoading:function(){return this.menuList.length>0}},methods:{openPage:function(t){this.$emit("select",t)}}},S=w,x=(a("6869"),Object(b["a"])(S,y,O,!1,null,"b541beb0",null)),j=x.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"self-wrap",class:t.isActive},[a("div",{staticClass:"self-detail-tab",class:t.detailFocused,on:{click:function(e){return t.setFlag("detail")}}},[a("div",{staticClass:"self-back-button self-shadow-btn",on:{click:t.emitClose}},[a("i",{staticClass:"fas fa-chevron-left"})]),t.product.img_uri?a("div",[a("cute-coffee")],1):t._e()]),a("div",{staticClass:"self-option-tab",class:t.optionFocused,on:{click:function(e){return t.setFlag("option")}}},[a("div",{staticClass:"container self-background-product"},[a("div",{staticClass:"col-11 mx-auto mt-5 row"},[a("p",{staticClass:"h5 self-title"},[t._v(t._s(t.product.name))])]),a("div",{staticClass:"col-11 mt-1 mx-auto row"},[a("div",{staticClass:"col-6 pl-0"},[a("p",{staticClass:"h1 self-title"},[t._v("$"+t._s(t.currentPrice)),a("span",{staticClass:"h6 ml-1"},[t._v("元")])])]),a("div",{staticClass:"col-2 align-self-center"},[a("div",{staticClass:"self-icon",class:t.sizeFocused("small"),on:{click:function(e){return t.setSize("small")}}},[a("i",{staticClass:"fas fa-coffee self-small"})])]),a("div",{staticClass:"col-2 ml-2 align-self-center"},[a("div",{staticClass:"self-icon",class:t.sizeFocused("large"),on:{click:function(e){return t.setSize("large")}}},[a("i",{staticClass:"fas fa-coffee self-large"})])])]),a("div",{staticClass:"selection",class:t.selectionFocused},[t._m(0),a("div",{staticClass:"col-11 mx-auto form-group row pt-2 mb-5"},[t._m(1),a("div",{staticClass:"col-8"},[a("vue-slider",{attrs:{data:t.sweetData,marks:!0},model:{value:t.returnObject.sweet,callback:function(e){t.$set(t.returnObject,"sweet",e)},expression:"returnObject.sweet"}})],1),t._m(2)]),t._m(3),a("div",{staticClass:"col-11 mx-auto form-group row pt-2"},[t._m(4),a("div",{staticClass:"col-8"},[a("vue-slider",{attrs:{data:t.iceData,marks:!0},model:{value:t.returnObject.ice,callback:function(e){t.$set(t.returnObject,"ice",e)},expression:"returnObject.ice"}})],1),t._m(5)])]),a("div",{staticClass:"col-12 mt-3"},[a("button",{staticClass:"btn self-btn btn-block",attrs:{type:"submit"},on:{click:t.submitReqeust}},[t._v("送出")])])])]),a("update-order-modal",{attrs:{displayName:t.displayName,name:t.productName,order:t.params.order,currentSelection:t.returnObject,orderData:t.orderData}})],1)},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-11 mx-auto pt-5"},[a("p",[t._v("選擇甜度")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-2 text-center"},[a("i",{staticClass:"mt-2 fas fa-thermometer-empty"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-2 text-center"},[a("i",{staticClass:"mt-2 fas fa-thermometer-full"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-11 mx-auto mt-3"},[a("p",[t._v("選擇溫度")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-2 text-center"},[a("i",{staticClass:"mt-2 fas fa-fire"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-2 text-center"},[a("i",{staticClass:"mt-2 fas fa-snowflake"})])}],P=(a("ffc1"),a("6b54"),a("7f7f"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),L=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"wrapper__content"},[a("div",{staticClass:"like"},[t._v("❤")]),a("div",{staticClass:"cup-body"}),a("div",{staticClass:"cup-body-shadow"}),a("div",{staticClass:"cup-body-shadow-bottom"}),a("div",{staticClass:"cup-label"}),a("div",{staticClass:"cup-label-red"},[a("div",{staticClass:"cup-label-red-shadow"})]),a("div",{staticClass:"face"},[a("div",{staticClass:"face-eyes"}),a("div",{staticClass:"face-mouth"}),a("div",{staticClass:"face-blush"})]),a("div",{staticClass:"cup-upper"},[a("div",{staticClass:"cup-upper-shadow"})]),a("div",{staticClass:"cup-middle"}),a("div",{staticClass:"cup-bottom"},[a("div",{staticClass:"cup-bottom-shadow"})]),a("div",{staticClass:"floor"})])])}],E={name:"CuteCoffee"},N=E,I=(a("3fc1"),Object(b["a"])(N,P,L,!1,null,"5c14c60d",null)),R=I.exports,F=a("4971"),z=a.n(F),M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"update-order-modal",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},["configuration"==t.state?a("div",{staticClass:"ml-3"},[a("p",{staticClass:"h4 mb-3 mt-2 self-confirm-title text-center"},[t._v("確認品項 ")]),a("p",{staticClass:"ml-2 h6 self-confirm-title"},[t._v("品名")]),a("p",{staticClass:"ml-2 h4 self-confirm-title"},[t._v(t._s(t.name)+" ("+t._s(t.currentSelection.size)+")")]),a("p",{staticClass:"mt-4 ml-2 h6 self-confirm-title"},[t._v("甜度")]),a("p",{staticClass:"ml-2 h4 self-confirm-title"},[t._v(t._s(t.currentSelection.sweet))]),a("p",{staticClass:"mt-4 ml-2 h6 self-confirm-title"},[t._v("冰塊")]),a("p",{staticClass:"ml-2 h4 self-confirm-title"},[t._v(t._s(t.currentSelection.ice))])]):"loading"==t.state?a("div",{staticClass:"ml-3"},[t._m(0)]):"successful"==t.state?a("div",{staticClass:"ml-3"},[t._m(1)]):"faulure"==t.state?a("div",{staticClass:"ml-3 text-center"},[t._m(2)]):t._e()]),"configuration"==t.state?a("div",{staticClass:"modal-footer p-2"},[a("div",{staticClass:"col-12 mx-auto mb-2"},[a("button",{staticClass:"btn btn-lg btn-block self-btn-confirm",on:{click:function(e){return t.updateOrder()}}},[t._v("確認")])]),a("div",{staticClass:"col-12 mx-auto mt-1"},[a("button",{staticClass:"btn btn-lg btn-block self-btn-cancel",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clearData()}}},[t._v("取消")])])]):"loading"!=t.state?a("div",{staticClass:"modal-footer p-2"},[a("div",{staticClass:"col-12 mx-auto"},[a("button",{staticClass:"btn btn-lg btn-block self-btn-confirm",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clearData()}}},[t._v("返回")])])]):t._e()])])])},J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"self-loading"},[a("i",{staticClass:"mt-4 fas fa-spinner fa-spin"}),a("p",{staticClass:"mt-4 h6"},[t._v("載入中...")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"self-loading"},[a("i",{staticClass:"mt-4 fas fa-check-circle"}),a("p",{staticClass:"mt-4 h6"},[t._v("送出成功，請關閉視窗")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"self-loading"},[a("i",{staticClass:"mt-4 fas fa-exclamation-crirle"}),a("p",{staticClass:"mt-4 h6"},[t._v("送出失敗，請稍後重試")])])}],A={name:"SelectOrderModal",props:{displayName:{type:String,default:""},name:{type:String,default:""},currentSelection:{type:Object,default:function(){return{}}},orderData:{type:Object,default:function(){return{}}},order:{type:String,default:""}},data:function(){return{state:"configuration",selected:"",msg:""}},methods:{clearData:function(){this.state="configuration",this.$forceUpdate()},updateOrder:function(){var t=this;this.state="loading",console.log("send data",this.orderData),axios.patch("api/v1/orders/".concat(this.order),this.orderData).then((function(e){t.state="successful",t.msg=JSON.stringify(e)})).catch((function(e){t.state="failure",console.log(e),t.msg=JSON.stringify(e)}))}}},T=A,U=(a("1d1a"),Object(b["a"])(T,M,J,!1,null,null,null)),B=U.exports,W=(a("3e39"),{name:"AddItem",components:{VueSlider:z.a,CuteCoffee:R,UpdateOrderModal:B},props:{displayName:{type:String,default:""},params:{type:Object,default:function(){return{access_token:null,orderID:null}}},active:{type:Boolean,default:!1},product:{type:Object,default:function(){return{id:null,name:"",price:{small:"",large:""},img_uri:null}}},orderData:{type:Object,default:function(){return{id:""}}}},data:function(){return{sizeSelected:"small",sizeTag:{small:"小",medium:"中",large:"大"},sweetData:["無糖","三分","五分","七分","全糖"],iceData:["熱","溫","去冰","微冰","少冰","正常"],profile:{},returnObject:{userName:this.displayName,user:"",product:"",size:"小",sweet:"五分",ice:"去冰",price:""},listData:[],options:[],selected:"detail",prodSelected:0}},computed:{productName:function(){return this.product.name},currentPrice:function(){return this.product.price?this.product.price[this.sizeSelected].toString():""},isActive:function(){return this.active?"self-page-active":"self-page-close"},detailFocused:function(){return"detail"==this.selected?"detail-active":""},optionFocused:function(){return"option"==this.selected?"option-active":""},selectionFocused:function(){return"option"==this.selected?"selection-active":""}},watch:{product:function(t){t&&(this.getOption(),this.returnObject.product=t.id.toString())}},mounted:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),methods:{sizeFocused:function(t){return this.sizeSelected==t?"self-icon-active":"self-icon-disable"},setSize:function(t){this.sizeSelected=t,this.returnObject.size=this.sizeTag[t],this.returnObject.price=this.product.price[t]},getIdent:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",f.a.get("https://api.line.me/v2/profile",{headers:{Authorization:"Bearer "+this.params.access_token}}).then((function(t){return t.data})).then((function(t){e.profile=t,e.profileJSON=JSON.stringify(t),e.returnObject.user=t.userId})).catch((function(t){e.profileMsg=t})));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getOrder:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",axios.get("api/v1/orders/".concat(this.params.order)).then((function(t){return t.data})).then((function(t){e.orderData=t.data[0]})));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getList:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",axios.get("api/v1/menu/".concat(this.orderData.branch_store_id)).then((function(t){return t.data})).then((function(t){e.listData=t.data})));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getOption:function(){var t=this;axios.get("api/v1/extra/".concat(this.product.id)).then((function(t){return t.data})).then((function(e){t.options=e.data}))},setFlag:function(t){this.selected=t},setVal:function(){var t=this,e=this.listData.filter((function(e){return e.id==t.returnObject.product}))[0];this.returnObject.size=e.size,this.returnObject.price=e.price},submitReqeust:function(){this.handleReturn(),console.log(this.orderData),$("#update-order-modal").modal()},handleReturn:function(){var t=this;0==Object.entries(this.orderData.order.length).length&&(this.orderData.order=[]);var e=this.orderData.order?this.orderData.order.filter((function(e){return e.userId==t.returnObject.userId})):[];if(e.length>0){var a=this.orderData.order.indexOf(e[0]);this.orderData.order[a]=this.returnObject}else this.orderData.order.push(this.returnObject)},emitClose:function(){this.$emit("close",!1)}}}),Z=W,G=(a("153f"),Object(b["a"])(Z,k,D,!1,null,"096ee177",null)),H=G.exports,q=a("c8b5"),Q=a.n(q),V={name:"UpdateOrder",components:{MenuSearch:_,MenuRecommand:j,UpdateOrderPage:H},directives:{pan:{bind:function(t,e){if("function"===typeof e.value){var a=new Q.a(t);a.get("pan").set({direction:Q.a.DIRECTION_ALL}),a.on("pan",e.value)}}}},props:{params:{type:Object,default:function(){return{access_token:null,group:null}}}},data:function(){return{pageFlag:!1,menuData:[],shopList:[],orderData:{id:""},selectedStore:{id:null,name:"",img_uri:null},selection:null,profile:{userId:"",displayName:""},msg:"",showPan:!1,profileJSON:"",ticking:!1,scrollSensitivitySetting:30,slideDurationSetting:600,currentSlideNumber:0,totalSlideNumber:2}},computed:{showPage:function(){return this.pageFlag?"self-page-active":""},shopListString:function(){return this.shopList.length>0?JSON.stringify(this.shopList):""},showPanel:function(){return this.showPan?"self-active":""}},mounted:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getOrder();case 2:this.getMenu(),this.getIdent();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getOrder:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",axios.get("api/v1/orders/".concat(this.params.order)).then((function(t){return t.data})).then((function(t){e.orderData=t.data[0]})));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getMenu:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",axios.get("api/v1/menu/".concat(this.orderData.branch_store_id)).then((function(t){return t.data})).then((function(t){console.log("menu fetched"),e.menuData=t.data,console.log(e.menuData)})));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getIdent:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",f.a.get("https://api.line.me/v2/profile",{headers:{Authorization:"Bearer "+this.params.access_token}}).then((function(t){e.profile=t.data,e.profileJSON=JSON.stringify(t.data)})).catch((function(t){e.profileMsg=t})));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),onPan:p.a.debounce((function(){this.showPan=!0}),100),onTap:function(t,e){e&&(TweenMax.to(t.target,.12,{scale:1.1,yoyo:!0,repeat:1,ease:Sine.easeOut}),this.selected=e)},openPage:function(t){this.selectedStore=t,this.pageFlag=!0},closePage:function(){this.pageFlag=!1}}},X=V,Y=(a("8594"),Object(b["a"])(X,c,o,!1,null,"700d7df4",null)),K=Y.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"self-wrap"},[a("section",{on:{click:function(e){t.showPan=!1}}},[a("create-page-shop-search",{staticClass:"self-fixed-center",attrs:{group:t.params.group,userId:t.profile.userId}})],1),a("section",{directives:[{name:"pan",rawName:"v-pan",value:t.onPan,expression:"onPan"}],staticClass:"self-pull-up-menu",class:t.showPanel},[a("create-page-shop-recommand",{attrs:{id:"container",shopList:t.shopList},on:{select:t.openPage}})],1),a("section",{staticClass:"self-choose-branch-page",class:t.showPage},[a("create-page-select-branch",{attrs:{active:t.pageFlag,store:t.selectedStore,group:t.params.group,userId:t.profile.userId},on:{close:t.closePage}})],1)])},et=[],at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"self-background"},[a("div",{staticClass:"form-group mx-auto",attrs:{id:"search"}},[a("label",{staticClass:"h5 self-search-label",attrs:{for:"shop"}},[t._v("請輸入飲料店家")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],staticClass:"mt-2 self-search-box self-shadow",attrs:{id:"shop",type:"text"},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}})])])},st=[],nt={name:"CreateShopSearch",data:function(){return{currentShop:{},searchString:""}},methods:{setCurrent:function(t){this.currentShop=t}}},it=nt,rt=(a("91e2"),Object(b["a"])(it,at,st,!1,null,"30a3a2eb",null)),ct=rt.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mx-auto mt-3 self-pull-bar"}),a("p",{staticClass:"h1 text-center mt-4 self-title"},[t._v("熱門店家")]),t.isLoading?a("div",{staticClass:"mt-2 self-menu-section"},t._l(t.shopList,(function(e,s){return a("div",{key:s,staticClass:"col-11 mx-auto row mt-4 mb-3 p-3 self-result",on:{click:function(a){return t.openPage(e)}}},[t._m(0,!0),a("div",{staticClass:"col-1"}),a("div",{staticClass:"col-7 align-self-center"},[a("p",{staticClass:"mb-0"},[t._v(t._s(e.group_name))])])])})),0):a("div",{staticClass:"mt-2 self-menu-section"},[t._m(1)])])},lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-2 align-self-center"},[a("div",{staticClass:"self-icon"},[a("i",{staticClass:"fas fa-coffee"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"self-loading"},[a("i",{staticClass:"mt-4 fas fa-spinner fa-spin"})])}],ut={name:"CreateShopRecommand",props:{shopList:{type:Array,default:function(){}}},computed:{isLoading:function(){return this.shopList.length>0}},methods:{openPage:function(t){this.$emit("select",t)}}},ft=ut,dt=(a("bbfc"),Object(b["a"])(ft,ot,lt,!1,null,"14b068aa",null)),pt=dt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.isActive},[a("div",{attrs:{id:"map"},on:{click:function(e){return t.pageFocusArea(!1)}}},[a("transition",{attrs:{name:"fade"}},[a("l-map",{ref:"map",staticClass:"map",attrs:{options:{zoomControl:!1}}},[a("l-tile-layer",{attrs:{url:t.maps.api}})],1)],1)],1),a("div",{staticClass:"self-back-button self-shadow-btn",on:{click:t.pageEmitClose}},[a("i",{staticClass:"fas fa-chevron-left"})]),a("div",{staticClass:"self-option-tab",class:t.optionFocused,on:{click:function(e){return t.pageFocusArea(!0)}}},[a("p",{staticClass:"h4 text-center mt-4 self-title"},[t._v("熱門店家")]),t.pageLoading?a("div",{staticClass:"mt-2"},[t._m(0)]):a("div",{staticClass:"mt-2 self-menu-section"},t._l(t.list,(function(e,s){return a("div",{key:s,staticClass:"col-11 mx-auto row mt-3 mb-3 p-3 self-result",on:{click:function(a){return t.pageOpenModal(e)}}},[t._m(1,!0),a("div",{staticClass:"col-1 align-self-center"}),a("div",{staticClass:"col-7 align-self-center"},[a("p",{staticClass:"mb-0"},[t._v(t._s(e.name))]),a("p",{staticClass:"mb-0"},[t._v(t._s(e.address))])])])})),0)]),a("select-branch-modal",{attrs:{storeData:t.branchStoreData,group:t.group,userId:t.userId}})],1)},ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"self-loading"},[a("i",{staticClass:"mt-4 fas fa-spinner fa-spin"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-2 align-self-center"},[a("div",{staticClass:"self-icon"},[a("i",{staticClass:"fas fa-coffee"})])])}],vt=(a("c5f6"),a("2699")),gt=a("a40a"),bt=a("4e2b"),Ct=a("31dc"),_t=a("f60f"),yt=a("c8b6"),Ot=a("1ebb"),wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"branch-selection-modal",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},["configuration"==t.state?a("div",{staticClass:"ml-3"},[a("p",{staticClass:"h4 mb-3 mt-2 self-confirm-title text-center"},[t._v("確認分店 ")]),a("p",{staticClass:"ml-2 h6 self-confirm-title"},[t._v("店名")]),a("p",{staticClass:"ml-2 h5 self-confirm-title"},[t._v(t._s(t.storeData.name))]),a("p",{staticClass:"mt-4 ml-2 h6 self-confirm-title"},[t._v("地址")]),a("p",{staticClass:"ml-2 h5 self-confirm-title"},[t._v(t._s(t.storeData.address))])]):"loading"==t.state?a("div",{staticClass:"ml-3"},[t._m(0)]):"successful"==t.state?a("div",{staticClass:"ml-3"},[t._m(1)]):"faulure"==t.state?a("div",{staticClass:"ml-3 text-center"},[t._m(2)]):t._e()]),"configuration"==t.state?a("div",{staticClass:"modal-footer p-2"},[a("div",{staticClass:"col-12 mx-0 mb-2 p-0"},[a("button",{staticClass:"btn btn-lg btn-block self-btn-confirm",on:{click:function(e){return t.createOrder()}}},[t._v("確認")])]),a("div",{staticClass:"col-12 mx-0 p-0"},[a("button",{staticClass:"btn btn-lg btn-block self-btn-cancel",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clearData()}}},[t._v("取消")])])]):a("div",{staticClass:"modal-footer p-2"},[a("div",{staticClass:"col-12 mx-0 p-0"},[a("button",{staticClass:"btn btn-lg btn-block",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.clearData()}}},[t._v("返回")])])])])])])},St=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"self-loading"},[a("i",{staticClass:"mt-4 fas fa-spinner fa-spin"}),a("p",{staticClass:"mt-4 h6"},[t._v("載入中...")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"self-loading"},[a("i",{staticClass:"mt-4 fas fa-check-circle"}),a("p",{staticClass:"mt-4 h6"},[t._v("送出成功，請關閉視窗")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"self-loading"},[a("i",{staticClass:"mt-4 fas fa-exclamation-crirle"}),a("p",{staticClass:"mt-4 h6"},[t._v("送出失敗，請稍後重試")])])}],xt={name:"SelectBranchModal",props:{storeData:{type:Object,default:function(){return{}}},group:{type:String,default:""},userId:{type:String,default:""}},data:function(){return{state:"configuration",selected:"",msg:""}},methods:{clearData:function(){this.state="configuration",this.$forceUpdate()},createOrder:function(){var t=this;this.state="loading",axios.post("api/v1/orders",{creator_id:this.userId,group_id:this.group,branch_store_id:this.storeData.id}).then((function(e){t.state="successful",t.msg=JSON.stringify(e)})).catch((function(e){t.state="failure",console.log(e),t.msg=JSON.stringify(e)}))}}},jt=xt,kt=(a("11b8"),Object(b["a"])(jt,wt,St,!1,null,null,null)),Dt=kt.exports,Pt={components:{LMap:vt["a"],LTileLayer:gt["a"],LMarker:bt["a"],LTooltip:Ct["a"],LPopup:_t["a"],LControlZoom:yt["a"],LLayerGroup:Ot["a"],SelectBranchModal:Dt},props:{store:{type:Number,default:null},group:{type:String,default:""},userId:{type:String,default:""},active:{type:Boolean,default:!0}},data:function(){return{selected:!1,pageLoading:!0,branchStoreData:{},maps:{api:"https://api.mapbox.com/styles/v1/ppckingdom888/ck6ir4xgh0mcm1iojflbl9yxo/tiles/256/{z}/{x}/{y}",key:"pk.eyJ1IjoicHBja2luZ2RvbTg4OCIsImEiOiJjamozeGZheDIxOWpvM3J1bzU3OHZhajc4In0.rUNNesc6GaO9qShbsXJtjQ",attributes:{maxZoom:16,minZoom:10,zoomControl:!0}}}},computed:{isActive:function(){return this.active?"self-page-active":"self-page-close"},optionFocused:function(){return this.selected?"option-active":""}},watch:{store:function(t,e){this.mapUpdateCenter({latitude:24.54014,longitude:121.271526},8),this.apiGetBranch()}},mounted:function(){this.maps.api+="?access_token=".concat(this.maps.key)},methods:{pageFocusArea:function(t){this.selected=t},pageEmitClose:function(){this.$emit("close",!1)},pageClearData:function(){this.list=[]},pageOpenModal:function(t){this.branchStoreData=t,$("#branch-selection-modal").modal()},mapUpdateCenter:function(t,e){this.$refs.map.mapObject.setView(["".concat(t.latitude),"".concat(t.longitude)],e)},apiGetBranch:function(){var t=this;this.pageLoading=!0,axios.get("api/v1/stores/".concat(this.store)).then((function(t){return t.data})).then((function(e){t.list=e.data,t.pageLoading=!1}))}}},$t=Pt,Lt=(a("7b17"),Object(b["a"])($t,mt,ht,!1,null,"a611fd9c",null)),Et=Lt.exports,Nt={name:"CreateOrder",components:{CreatePageShopSearch:ct,CreatePageShopRecommand:pt,CreatePageSelectBranch:Et},directives:{pan:{bind:function(t,e){if("function"===typeof e.value){var a=new Q.a(t);a.get("pan").set({direction:Q.a.DIRECTION_ALL}),a.on("pan",e.value)}}}},props:{params:{type:Object,default:function(){return{access_token:null,group:null}}}},data:function(){return{pageFlag:!1,shopList:[],selectedStore:null,selection:null,profile:{userId:""},msg:"",showPan:!1,ticking:!1,scrollSensitivitySetting:30,slideDurationSetting:600,currentSlideNumber:0,totalSlideNumber:2}},computed:{showPage:function(){return this.pageFlag?"self-page-active":""},shopListString:function(){return this.shopList.length>0?JSON.stringify(this.shopList):""},showPanel:function(){return this.showPan?"self-active":""}},created:function(){this.getShopList(),this.getIdent()},methods:{getIdent:function(){var t=this;f.a.get("https://api.line.me/v2/profile",{headers:{Authorization:"Bearer "+this.params.access_token}}).then((function(e){t.profile=e.data,t.profileJSON=JSON.stringify(e.data)})).catch((function(e){t.profileMsg=e}))},getShopList:function(){var t=this;axios.get("api/v1/stores",{useCredentails:!0}).then((function(e){t.msg=JSON.stringify(e),t.shopList=e.data.data,t.$forceUpdate()})).catch((function(e){t.msg=JSON.stringify(e),console.log(e)}))},onPan:p.a.debounce((function(){this.showPan=!0}),100),onTap:function(t,e){e&&(TweenMax.to(t.target,.12,{scale:1.1,yoyo:!0,repeat:1,ease:Sine.easeOut}),this.selected=e)},openPage:function(t){console.log("fetched"),this.selectedStore=t.id,this.pageFlag=!0},closePage:function(){this.pageFlag=!1}}},It=Nt,Rt=(a("b8ef"),Object(b["a"])(It,tt,et,!1,null,"3ded67f5",null)),Ft=Rt.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container text-center pt-5"},[a("i",{staticClass:"pt-2 fas fa-exclamation-triangle"}),a("p",{staticClass:"h5 pt-3"},[t._v("確定要刪除嗎？")]),a("div",{staticClass:"self-button"},[a("div",{staticClass:"col-12 justify-content-center mt-4 m-0 p-0"},[a("button",{staticClass:"btn self-btn-confirm btn-block",on:{click:t.sendDelete}},[t._v("確認")]),a("button",{staticClass:"btn self-btn-cancel btn-block",on:{click:t.closeWindow}},[t._v("取消")])])])])},Mt=[],Jt={name:"DeleteComfirm",props:{params:{type:Object,default:function(){return{access_token:null,orderID:null}}}},methods:{closeWindow:function(){this.$liff.closeWindow()},sendDelete:function(){axios.delete("api/v1/orders/".concat(this.params.order)).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}}},At=Jt,Tt=(a("a7c1"),Object(b["a"])(At,zt,Mt,!1,null,"a6bc080e",null)),Ut=Tt.exports;function Bt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Wt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Bt(a,!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Bt(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Zt={name:"App",components:{UpdateOrder:K,CreateOrder:Ft,CreatePageSelectBranch:Et,DeleteComfirm:Ut,CuteCoffee:R},data:function(){return{msg:null,params:{},component:{product:K,create:Ft,delete:Ut,map:Et,test:R}}},computed:{groupID:function(){return this.test.group?this.test.group:""},orderID:function(){return this.test.order?this.test.order:""}},beforeCreate:function(){this.$liff.init((function(){})),this.$liff.$hand.initAll((function(){this.$liff.$hand.changeHash()}))},mounted:function(){var t=this;this.href=window.location.href.split("?")[1];try{this.href.split("#").forEach((function(e){var a=t.splitQueryString(e),s=Object.fromEntries(a);t.params=Wt({},t.params,{},s)})),this.msg=JSON.stringify(this.params)}catch(e){console.error(e)}this.$forceUpdate()},methods:{splitQueryString:function(t){return t.split("&").map((function(t){return t.split("=")}))}}},Gt=Zt,Ht=(a("7faf"),Object(b["a"])(Gt,n,i,!1,null,null,null)),qt=Ht.exports,Qt=a("8c4f"),Vt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Xt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("h1",[t._v("Welcome to menu")]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"disabledSelect"}},[t._v("雖然什麼都還沒有 不過來看看吧？")]),a("select",{staticClass:"form-control",attrs:{id:"disabledSelect"}},[a("option",{attrs:{selected:""}},[t._v("Disabled select")]),a("option",[t._v("Second")]),a("option",[t._v("Third")])])]),a("div",{staticClass:"form-group mt-5 ml-1"},[a("label",{attrs:{for:"disabledSelect1"}},[t._v("雖然什麼都還沒有 不過來看看甜度吧？")]),a("select",{staticClass:"form-control",attrs:{id:"disabledSelect1"}},[a("option",{attrs:{selected:""}},[t._v("全糖")]),a("option",[t._v("七分糖")]),a("option",[t._v("半糖")]),a("option",[t._v("三分糖")]),a("option",[t._v("無糖")])])]),a("div",{staticClass:"form-group mt-5 ml-1"},[a("label",{attrs:{for:"disabledSelect2"}},[t._v("雖然什麼都還沒有 不過來看看冰塊吧？")]),a("select",{staticClass:"custom-select",attrs:{id:"disabledSelect2"}},[a("option",{attrs:{selected:""}},[t._v("正常")]),a("option",[t._v("少冰")]),a("option",[t._v("微冰")]),a("option",[t._v("去冰")])])]),a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[t._v("送出")])])}],Yt={name:"HelloWorld",props:{msg:{type:String,default:""}}},Kt=Yt,te=(a("337d"),Object(b["a"])(Kt,Vt,Xt,!1,null,"3e583ea7",null)),ee=te.exports;s["default"].use(Qt["a"]);var ae=new Qt["a"]({mode:"history",routes:[{path:"/product",name:"product",component:K},{path:"/menu",name:"menu",component:ee}]}),se=(a("4989"),a("ab8b"),a("3f08")),ne=a("ecee"),ie=a("c074"),re=a("ad3d");s["default"].use(se["a"].Plugin),s["default"].prototype.$liff=window.liff,s["default"].prototype.$axios=f.a,s["default"].config.productionTip=!1,ne["c"].add(ie["a"]),s["default"].component("font-awesome-icon",re["a"]),window.$=a("1157"),window._=a("2ef0"),window.axios=f.a,window.axios.defaults.baseURL="https://yamcha.herokuapp.com/",new s["default"]({router:ae,render:function(t){return t(qt)}}).$mount("#app")},"5aa5":function(t,e,a){},"5eb3":function(t,e,a){},"5f74":function(t,e,a){},6293:function(t,e,a){},6869:function(t,e,a){"use strict";var s=a("0fdd"),n=a.n(s);n.a},"7b17":function(t,e,a){"use strict";var s=a("bdc1"),n=a.n(s);n.a},"7db1":function(t,e,a){},"7faf":function(t,e,a){"use strict";var s=a("dc71"),n=a.n(s);n.a},8594:function(t,e,a){"use strict";var s=a("e638"),n=a.n(s);n.a},"91e2":function(t,e,a){"use strict";var s=a("5eb3"),n=a.n(s);n.a},a7c1:function(t,e,a){"use strict";var s=a("e33b"),n=a.n(s);n.a},b8ef:function(t,e,a){"use strict";var s=a("1a49"),n=a.n(s);n.a},bbfc:function(t,e,a){"use strict";var s=a("17ff"),n=a.n(s);n.a},bdc1:function(t,e,a){},c927:function(t,e,a){},dc71:function(t,e,a){},e1c0:function(t,e,a){"use strict";var s=a("6293"),n=a.n(s);n.a},e33b:function(t,e,a){},e638:function(t,e,a){}});
//# sourceMappingURL=app.fc0326c7.js.map